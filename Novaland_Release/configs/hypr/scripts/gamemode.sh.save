#!/usr/bin/env sh

# Ki·ªÉm tra tr·∫°ng th√°i hi·ªán t·∫°i (D·ª±a v√†o vi·ªác animation c√≥ ƒëang b·∫≠t kh√¥ng)
HYPRGAMEMODE=$(hyprctl getoption animations:enabled | awk 'NR==1{print $2}')

if [ "$HYPRGAMEMODE" = 1 ] ; then
    # --- K√çCH HO·∫†T GAMEMODE ---
    
    # 1. T·∫Øt h·∫øt hi·ªáu ·ª©ng Hyprland (Animation, Blur, Shadow, Bo g√≥c)
    hyprctl --batch "\
        keyword animations:enabled 0;\
        keyword decoration:drop_shadow 0;\
        keyword decoration:blur:enabled 0;\
        keyword general:gaps_in 0;\
        keyword general:gaps_out 0;\
        keyword general:border_size 1;\
        keyword decoration:rounding 0"
    
    # 2. B·∫≠t ch·∫ø ƒë·ªô hi·ªáu nƒÉng cao (Performance)
    powerprofilesctl set performance
    
    # 3. Th√¥ng b√°o
    notify-send "GAMEMODE: ON" "üöÄ Performance Mode Activated. Visuals Disabled." -t
    
else
    # --- T·∫ÆT GAMEMODE (V·ªÅ l·∫°i Novaland) ---
    
    # 1. Reload l·∫°i config Hyprland ƒë·ªÉ kh√¥i ph·ª•c hi·ªáu ·ª©ng
    hyprctl reload
    
    # 2. V·ªÅ ch·∫ø ƒë·ªô c√¢n b·∫±ng (Balanced)
    powerprofilesctl set balanced
    
    # 3. Th√¥ng b√°o
    notify-send "GAMEMODE: OFF" "‚ú® Welcome back to Novaland." -u low
fi
